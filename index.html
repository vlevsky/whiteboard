<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Whiteboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f4f4f4;
        }
        h1 {
            margin: 20px 0;
        }
        .toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .toolbar button, .toolbar input, .toolbar select {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: white;
            cursor: pointer;
        }
        .toolbar button:hover {
            background-color: #ddd;
        }
        #whiteboard {
            border: 2px solid #000;
            background-color: white;
            cursor: crosshair;
        }
        .textbox {
            position: absolute;
            border: 1px dashed #000;
            padding: 5px;
            background-color: rgba(255, 255, 255, 0.8);
            cursor: move;
        }
    </style>
</head>
<body>

    <h1>Interactive Whiteboard</h1>
    <div class="toolbar">
        <input type="color" id="colorPicker" value="#000000">
        <select id="penSize">
            <option value="2">2px</option>
            <option value="5">5px</option>
            <option value="10">10px</option>
            <option value="20">20px</option>
        </select>
        <button id="eraseButton">Erase</button>
        <input type="text" id="textInput" placeholder="Enter text">
        <select id="fontSize">
            <option value="16">16px</option>
            <option value="24">24px</option>
            <option value="32">32px</option>
            <option value="48">48px</option>
        </select>
        <button id="addTextButton">Add Textbox</button>
    </div>
    <canvas id="whiteboard" width="800" height="600"></canvas>

    <script>
        const canvas = document.getElementById('whiteboard');
        const ctx = canvas.getContext('2d');
        const colorPicker = document.getElementById('colorPicker');
        const penSize = document.getElementById('penSize');
        const eraseButton = document.getElementById('eraseButton');
        const textInput = document.getElementById('textInput');
        const fontSize = document.getElementById('fontSize');
        const addTextButton = document.getElementById('addTextButton');

        let isDrawing = false;
        let currentColor = colorPicker.value;
        let currentSize = penSize.value;

        // Set initial canvas background to white
        ctx.fillStyle = 'white';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Event listeners for drawing
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);

        colorPicker.addEventListener('input', () => {
            currentColor = colorPicker.value;
        });

        penSize.addEventListener('change', () => {
            currentSize = penSize.value;
        });

        eraseButton.addEventListener('click', () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        });

        addTextButton.addEventListener('click', () => {
            const text = textInput.value.trim();
            if (text) {
                addTextbox(text, fontSize.value);
                textInput.value = ''; // Clear input
            }
        });

        function startDrawing(e) {
            isDrawing = true;
            ctx.beginPath();
            ctx.moveTo(e.offsetX, e.offsetY);
        }

        function draw(e) {
            if (!isDrawing) return;
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = currentSize;
            ctx.lineCap = 'round';
            ctx.lineTo(e.offsetX, e.offsetY);
            ctx.stroke();
        }

        function stopDrawing() {
            isDrawing = false;
            ctx.beginPath();
        }

        function addTextbox(text, size) {
            const textbox = document.createElement('div');
            textbox.className = 'textbox';
            textbox.style.fontSize = `${size}px`;
            textbox.contentEditable = true;
            textbox.textContent = text;

            // Position the textbox randomly on the canvas
            const x = Math.random() * (canvas.width - 100);
            const y = Math.random() * (canvas.height - 50);
            textbox.style.left = `${x}px`;
            textbox.style.top = `${y}px`;

            // Make textbox draggable
            let isDragging = false;
            let offsetX, offsetY;

            textbox.addEventListener('mousedown', (e) => {
                isDragging = true;
                offsetX = e.offsetX;
                offsetY = e.offsetY;
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    textbox.style.left = `${e.clientX - offsetX}px`;
                    textbox.style.top = `${e.clientY - offsetY}px`;
                }
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });

            document.body.appendChild(textbox);
        }
    </script>

</body>
</html>